# Kenseader Configuration File

[general]
# Data directory for database, socket, and image cache
# Supports ~ for home directory expansion
#
# If you change this path, data will be automatically migrated on next daemon start.
#
# Examples:
#   Default:  (uses OS-specific local data directory)
#   Linux:    "~/.local/share/kenseader"
#   macOS:    "~/Library/Application Support/kenseader"
#   iCloud:   "~/Library/Mobile Documents/com~apple~CloudDocs/kenseader"
#   Dropbox:  "~/Dropbox/kenseader"
#
# data_dir = "~/your/path/kenseader"

# Article retention in days (articles older than this are auto-deleted)
article_retention_days = 3

# Log level: trace, debug, info, warn, error
log_level = "info"

[ai]
# Enable AI summarization
enabled = true

# AI provider options:
#   CLI-based (requires CLI tool installed):
#     - "claude_cli"  : Uses Claude CLI (claude command)
#     - "gemini_cli"  : Uses Gemini CLI (gemini command)
#     - "codex_cli"   : Uses Codex CLI (codex command)
#   API-based (requires API key):
#     - "openai"      : OpenAI API (GPT models)
#     - "gemini_api"  : Google Gemini API
#     - "claude_api"  : Anthropic Claude API
provider = "codex_cli"

# Summary language (e.g., "English", "Chinese", "Japanese", "Spanish", etc.)
summary_language = "Chinese"

# OpenAI API settings (required if provider = "openai")
# openai_api_key = "sk-..."
openai_model = "gpt-4o-mini"

# Gemini API settings (required if provider = "gemini_api")
# gemini_api_key = "AIza..."
gemini_model = "gemini-2.0-flash"

# Claude/Anthropic API settings (required if provider = "claude_api")
# claude_api_key = "sk-ant-..."
claude_model = "claude-sonnet-4-20250514"

# Max tokens for summary
max_summary_tokens = 150

# Concurrent summarization tasks
concurrency = 2

# Minimum content length (chars) for AI summarization
# Articles shorter than this will not be summarized
min_summarize_length = 500

# Maximum summary output length (chars)
max_summary_length = 150

# Relevance threshold for article filtering (0.0-1.0)
# Articles below this score are auto-marked as read
relevance_threshold = 0.3

[ui]
# UI tick rate in milliseconds
tick_rate_ms = 100

# Show article author
show_author = true

# Show timestamps
show_timestamps = true

# Enable image preview in terminal
image_preview = true

# Color theme (24 built-in themes available)
# Options:
#   Catppuccin: catppuccin-latte, catppuccin-frappe, catppuccin-macchiato, catppuccin-mocha
#   Gruvbox: gruvbox-light, gruvbox-dark
#   Dracula: dracula
#   Nord: nord
#   Tokyo Night: tokyo-night, tokyo-night-storm, tokyo-night-day
#   One Dark: one-dark
#   Solarized: solarized-light, solarized-dark
#   Everforest: everforest-light, everforest-dark
#   Kanagawa: kanagawa-wave, kanagawa-dragon, kanagawa-lotus
#   Rose Pine: rose-pine, rose-pine-moon, rose-pine-dawn
#   Monokai: monokai
#   Zenburn: zenburn
theme = "gruvbox-dark"

# Optional: Override specific theme colors (use hex format)
# [ui.theme_colors]
# bg0 = "#1d2021"
# fg0 = "#ebdbb2"
# accent = "#8ec07c"
# selection = "#504945"
# unread = "#fabd2f"
# read = "#928374"
# error = "#fb4934"
# success = "#b8bb26"
# warning = "#fe8019"
# info = "#83a598"

[sync]
# Scheduler check interval in seconds (0 = disabled)
# This controls how often the scheduler runs to check for feeds that need refreshing
refresh_interval_secs = 3600

# Minimum seconds between refreshes for each individual feed
# Each feed will only be refreshed if this much time has passed since its last fetch
# 43200 = 12 hours, 86400 = 24 hours, 0 = refresh all feeds every time
feed_refresh_interval_secs = 43200

# Cleanup interval in seconds (remove old articles)
cleanup_interval_secs = 3600

# AI summarization interval in seconds
summarize_interval_secs = 60

# Article filtering interval in seconds
filter_interval_secs = 120

# HTTP request timeout in seconds
request_timeout_secs = 30

# Per-domain rate limit delay in milliseconds
rate_limit_ms = 1000

# HTTP proxy URL for feed fetching (supports http, https, socks5)
# Useful for bypassing rate limits or accessing blocked feeds
# Examples:
#   proxy_url = "http://127.0.0.1:7890"
#   proxy_url = "socks5://127.0.0.1:1080"

[rsshub]
# RSSHub base URL for rsshub:// protocol conversion
# The official rsshub.app is protected by Cloudflare, use an alternative:
base_url = "https://hub.slarker.me"

# Alternative public instances (if the above doesn't work):
#   https://rsshub.rssforever.com
#   https://rsshub.ktachibana.party
#   https://rsshub.qufy.me

# RSSHub access key (for protected instances that require authentication)
# access_key = "your_access_key_here"

[keymap]
# Configurable keybindings using Vim-style notation
# Format: "j" (simple key), "G" (uppercase/shift), "<C-j>" (Ctrl+j), "<S-Tab>" (Shift+Tab)
# Special keys: <CR>, <Enter>, <Esc>, <Tab>, <Space>, <Left>, <Right>, <Up>, <Down>

# Application control
quit = "q"                    # Quit the application (Ctrl+C always works)

# Navigation between panels
focus_left = "h"              # Move focus to left panel
focus_right = "l"             # Move focus to right panel

# Navigation within panel
move_down = "j"               # Move cursor down
move_up = "k"                 # Move cursor up

# Scrolling (ArticleDetail view)
scroll_half_down = "<C-d>"    # Scroll down half page
scroll_half_up = "<C-u>"      # Scroll up half page
scroll_page_down = "<C-f>"    # Scroll down full page
scroll_page_up = "<C-b>"      # Scroll up full page

# Article navigation (ArticleDetail only)
next_article = "<C-j>"        # Switch to next article (respects UnreadOnly mode)
prev_article = "<C-k>"        # Switch to previous article (respects UnreadOnly mode)

# Jump to top/bottom
jump_to_top = "gg"            # Jump to first item (double-g like Vim)
jump_to_bottom = "G"          # Jump to last item (Shift+g)

# Actions
select = "<CR>"               # Select/enter item (Enter key)
open_browser = "b"            # Open article in browser
toggle_saved = "s"            # Toggle article saved status
refresh = "r"                 # Refresh feeds (disabled in read-mode)
toggle_read = "d"             # Toggle article read/unread (or delete feed in Subscriptions)

# Search
search_forward = "/"          # Start forward search
search_backward = "?"         # Start backward search
next_match = "n"              # Go to next search match
prev_match = "N"              # Go to previous search match (Shift+n)

# View mode
toggle_unread_only = "i"      # Toggle between All and Unread-only view

# History
history_back = "u"            # Navigate back in history
history_forward = "<C-r>"     # Navigate forward in history

# Selection (batch operations)
toggle_select = "<Space>"     # Toggle selection and move to next
visual_mode = "v"             # Enter/exit visual selection mode

# Image/link navigation (ArticleDetail view)
open_item = "o"               # Open focused image in external viewer or link in browser
view_image = "<CR>"           # Enter fullscreen image viewer (Enter key)
next_item = "<Tab>"           # Focus next image or link
prev_item = "<S-Tab>"         # Focus previous image or link (Shift+Tab)

# Example: Colemak-friendly keybindings
# [keymap]
# move_down = "n"             # was: j
# move_up = "e"               # was: k
# focus_left = "m"            # was: h
# focus_right = "i"           # was: l
# next_article = "<C-n>"      # was: <C-j>
# prev_article = "<C-e>"      # was: <C-k>
